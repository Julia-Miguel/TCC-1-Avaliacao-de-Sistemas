{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/andre/OneDrive/%C3%81rea%20de%20Trabalho/Nova%20pasta/TCC-1-Avaliacao-de-Sistemas/frontend/src/services/api.ts"],"sourcesContent":["// frontend/src/services/api.ts\r\nimport axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:4444\",\r\n});\r\n\r\n// --- NOVO: Interceptor para adicionar o token JWT ---\r\napi.interceptors.request.use(\r\n  async (config) => {\r\n    // Verifica se estamos no ambiente do navegador antes de tentar acessar o localStorage\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem('adminToken');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(new Error(error?.message ?? String(error)));\r\n  }\r\n);\r\n// --------------------------------------------------\r\n\r\nexport default api;"],"names":[],"mappings":"AAAA,+BAA+B;;;;AAC/B;;AAEA,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,uDAAuD;AACvD,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,OAAO;IACL,sFAAsF;IACtF,uCAAmC;;IAKnC;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC,IAAI,MAAM,OAAO,WAAW,OAAO;AAC3D;uCAIa"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/andre/OneDrive/%C3%81rea%20de%20Trabalho/Nova%20pasta/TCC-1-Avaliacao-de-Sistemas/frontend/src/app/%28auth-empresa%29/empresas/registrar/page.tsx"],"sourcesContent":["// frontend/src/app/empresas/registrar/page.tsx\r\n'use client';\r\n\r\nimport { useState } from \"react\";\r\nimport api from \"@/services/api\"; // Ajuste o caminho se o seu api.ts estiver em local diferente\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\n// Se você tiver um globals.css ou um CSS específico para formulários, importe-o\r\nimport '../../../globals.css'; \r\n\r\nexport default function RegistrarEmpresaPage() {\r\n  const [nome, setNome] = useState(\"\");\r\n  const [emailResponsavel, setEmailResponsavel] = useState(\"\");\r\n  const [senhaEmpresa, setSenhaEmpresa] = useState(\"\");\r\n  const [confirmaSenha, setConfirmaSenha] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setError(\"\"); // Limpa erros anteriores\r\n\r\n    if (senhaEmpresa !== confirmaSenha) {\r\n      setError(\"As senhas não coincidem!\");\r\n      return;\r\n    }\r\n\r\n    if (senhaEmpresa.length < 6) { // Exemplo de validação simples de senha\r\n        setError(\"A senha deve ter pelo menos 6 caracteres.\");\r\n        return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      await api.post(\"/empresas/register\", {\r\n        nome,\r\n        emailResponsavel,\r\n        senhaEmpresa,\r\n      });\r\n      alert(\"Empresa registrada com sucesso!\");\r\n      // Redireciona para a página de login da empresa ou outra página de sucesso\r\n      router.push(\"/empresas/login\"); \r\n    } catch (err: any) {\r\n      console.error(\"Erro ao registrar empresa:\", err);\r\n      if (err.response?.data?.message) {\r\n        setError(err.response.data.message);\r\n      } else {\r\n        setError(\"Ocorreu um erro desconhecido ao tentar registrar a empresa.\");\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-container\"> {/* Use sua classe de container principal */}\r\n      <div className=\"editor-form-card\"> {/* Reutilizando o estilo do card */}\r\n        <div className=\"form-header\">\r\n          <h3>Registrar Nova Empresa</h3>\r\n        </div>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"display-section\"> {/* Reutilizando padding */}\r\n          {error && <p className=\"error-message\" style={{color: 'red', marginBottom: '1rem'}}>{error}</p>}\r\n          \r\n          <div className=\"form-group\" style={{ marginBottom: '1rem' }}>\r\n            <label htmlFor=\"nome-empresa\">Nome da Empresa</label>\r\n            <input\r\n              id=\"nome-empresa\"\r\n              type=\"text\"\r\n              value={nome}\r\n              onChange={(e) => setNome(e.target.value)}\r\n              required\r\n              className=\"input-edit-mode\" // Reutilizando estilo de input\r\n              placeholder=\"Ex: Hospital Central\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\" style={{ marginBottom: '1rem' }}>\r\n            <label htmlFor=\"email-responsavel\">Email do Responsável</label>\r\n            <input\r\n              id=\"email-responsavel\"\r\n              type=\"email\"\r\n              value={emailResponsavel}\r\n              onChange={(e) => setEmailResponsavel(e.target.value)}\r\n              required\r\n              className=\"input-edit-mode\"\r\n              placeholder=\"Ex: contato@hospital.com\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\" style={{ marginBottom: '1rem' }}>\r\n            <label htmlFor=\"senha-empresa\">Senha da Empresa</label>\r\n            <input\r\n              id=\"senha-empresa\"\r\n              type=\"password\"\r\n              value={senhaEmpresa}\r\n              onChange={(e) => setSenhaEmpresa(e.target.value)}\r\n              required\r\n              minLength={6}\r\n              className=\"input-edit-mode\"\r\n              placeholder=\"Mínimo 6 caracteres\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\" style={{ marginBottom: '1.5rem' }}>\r\n            <label htmlFor=\"confirma-senha\">Confirmar Senha</label>\r\n            <input\r\n              id=\"confirma-senha\"\r\n              type=\"password\"\r\n              value={confirmaSenha}\r\n              onChange={(e) => setConfirmaSenha(e.target.value)}\r\n              required\r\n              className=\"input-edit-mode\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-header-actions\" style={{ justifyContent: 'flex-start' }}>\r\n            <button type=\"submit\" className=\"btn-primary\" disabled={isLoading}>\r\n              {isLoading ? \"Registrando...\" : \"Registrar Empresa\"}\r\n            </button>\r\n            <Link href=\"/\" className=\"btn-secondary\">\r\n                Voltar\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}