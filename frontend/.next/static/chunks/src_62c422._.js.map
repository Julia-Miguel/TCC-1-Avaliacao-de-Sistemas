{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Nova%20pasta/TCC-1-Avaliacao-de-Sistemas/frontend/src/services/api.ts"],"sourcesContent":["// frontend/src/services/api.ts\r\nimport axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:4444\",\r\n});\r\n\r\n// --- NOVO: Interceptor para adicionar o token JWT ---\r\napi.interceptors.request.use(\r\n  async (config) => {\r\n    // Verifica se estamos no ambiente do navegador antes de tentar acessar o localStorage\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem('adminToken');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(new Error(error?.message ?? String(error)));\r\n  }\r\n);\r\n// --------------------------------------------------\r\n\r\nexport default api;"],"names":[],"mappings":"AAAA,+BAA+B;;;;AAC/B;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;AAEA,uDAAuD;AACvD,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,OAAO;IACL,sFAAsF;IACtF,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC,IAAI,MAAM,OAAO,WAAW,OAAO;AAC3D;uCAIa"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Nova%20pasta/TCC-1-Avaliacao-de-Sistemas/frontend/src/app/%28auth-empresa%29/empresas/login/page.tsx"],"sourcesContent":["// frontend/src/app/(auth-empresa)/empresas/login/page.tsx\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport api from '@/services/api'; //\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport '../../../globals.css'; \r\n// import ApplicationLogo from '@/components/ApplicationLogo'; // Descomente se for usar o logo aqui\r\n\r\ninterface EmpresaLogada {\r\n  id: number;\r\n  nome: string;\r\n  emailResponsavel: string;\r\n}\r\n\r\nexport default function LoginEmpresaPage() {\r\n  const [emailResponsavel, setEmailResponsavel] = useState('');\r\n  const [senhaEmpresa, setSenhaEmpresa] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setError('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await api.post<{ empresa: EmpresaLogada }>('/empresas/login', { //\r\n        emailResponsavel,\r\n        senhaEmpresa,\r\n      });\r\n      const empresaLogada = response.data.empresa;\r\n      // Redireciona para a página de login do admin, passando o ID e nome da empresa\r\n      router.push(`/admin/login?empresaId=${empresaLogada.id}&empresaNome=${encodeURIComponent(empresaLogada.nome)}`);\r\n\r\n    } catch (err: any) {\r\n      console.error('Erro ao fazer login da empresa:', err);\r\n      if (err.response?.data?.message) {\r\n        setError(err.response.data.message);\r\n      } else {\r\n        setError('Ocorreu um erro desconhecido ao tentar fazer login.');\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* O ApplicationLogo pode ser adicionado no layout (auth-empresa)/layout.tsx ou aqui */}\r\n      {/* <div className=\"flex justify-center mb-6\"> */}\r\n      {/* <ApplicationLogo className=\"w-16 h-16 text-primary\" /> */}\r\n      {/* </div> */}\r\n      <h3 className=\"text-center text-xl sm:text-2xl font-semibold text-text-base mb-6\">\r\n        Login da Empresa\r\n      </h3>\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {error && (\r\n          <p className=\"text-sm text-center text-error bg-red-50 dark:bg-red-700/10 p-3 rounded-md border border-error\">\r\n            {error}\r\n          </p>\r\n        )}\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email-responsavel\" className=\"form-label\">\r\n            Email do Responsável\r\n          </label>\r\n          <input\r\n            id=\"email-responsavel\"\r\n            type=\"email\"\r\n            value={emailResponsavel}\r\n            onChange={(e) => setEmailResponsavel(e.target.value)}\r\n            required\r\n            className=\"input-edit-mode\" // Estilo global de input\r\n            placeholder=\"email@suaempresa.com\"\r\n            disabled={isLoading}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"senha-empresa\" className=\"form-label\">\r\n            Senha da Empresa\r\n          </label>\r\n          <input\r\n            id=\"senha-empresa\"\r\n            type=\"password\"\r\n            value={senhaEmpresa}\r\n            onChange={(e) => setSenhaEmpresa(e.target.value)}\r\n            required\r\n            className=\"input-edit-mode\"\r\n            placeholder=\"Digite a senha da empresa\"\r\n            disabled={isLoading}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"pt-2 space-y-4\">\r\n          <button \r\n            type=\"submit\" \r\n            className=\"btn btn-primary w-full py-2.5 text-sm\"\r\n            disabled={isLoading}\r\n          >\r\n            {isLoading ? \"Avançando...\" : \"Avançar para Login do Admin\"}\r\n          </button>\r\n          <Link \r\n            href=\"/empresas/registrar\" \r\n            className=\"btn btn-outline w-full py-2.5 text-sm text-center block\"\r\n            aria-disabled={isLoading}\r\n            style={isLoading ? { pointerEvents: 'none', opacity: 0.7 } : {}}\r\n          >\r\n            Não tem conta? Registrar Empresa\r\n          </Link>\r\n        </div>\r\n        \r\n        <div className=\"text-center mt-6\">\r\n            <Link href=\"/\" className=\"text-sm text-primary hover:text-primary-hover transition-colors\">\r\n                Voltar para Home\r\n            </Link>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,0DAA0D;;;;;AAG1D;AACA,iNAAkC,EAAE;AACpC;AACA;;;AALA;;;;;;AAee,SAAS;;IACtB,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,eAAe,OAAO;QAC1B,MAAM,cAAc;QACpB,SAAS;QACT,aAAa;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,yHAAA,CAAA,UAAG,CAAC,IAAI,CAA6B,mBAAmB;gBAC7E;gBACA;YACF;YACA,MAAM,gBAAgB,SAAS,IAAI,CAAC,OAAO;YAC3C,+EAA+E;YAC/E,OAAO,IAAI,CAAC,CAAC,uBAAuB,EAAE,cAAc,EAAE,CAAC,aAAa,EAAE,mBAAmB,cAAc,IAAI,GAAG;QAEhH,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,mCAAmC;YACjD,IAAI,IAAI,QAAQ,EAAE,MAAM,SAAS;gBAC/B,SAAS,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO;YACpC,OAAO;gBACL,SAAS;YACX;QACF,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE;;0BAKE,6LAAC;gBAAG,WAAU;0BAAoE;;;;;;0BAGlF,6LAAC;gBAAK,UAAU;gBAAc,WAAU;;oBACrC,uBACC,6LAAC;wBAAE,WAAU;kCACV;;;;;;kCAIL,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,SAAQ;gCAAoB,WAAU;0CAAa;;;;;;0CAG1D,6LAAC;gCACC,IAAG;gCACH,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;gCACnD,QAAQ;gCACR,WAAU,kBAAkB,yBAAyB;;gCACrD,aAAY;gCACZ,UAAU;;;;;;;;;;;;kCAId,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,SAAQ;gCAAgB,WAAU;0CAAa;;;;;;0CAGtD,6LAAC;gCACC,IAAG;gCACH,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gCAC/C,QAAQ;gCACR,WAAU;gCACV,aAAY;gCACZ,UAAU;;;;;;;;;;;;kCAId,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,MAAK;gCACL,WAAU;gCACV,UAAU;0CAET,YAAY,iBAAiB;;;;;;0CAEhC,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;gCACV,iBAAe;gCACf,OAAO,YAAY;oCAAE,eAAe;oCAAQ,SAAS;gCAAI,IAAI,CAAC;0CAC/D;;;;;;;;;;;;kCAKH,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAkE;;;;;;;;;;;;;;;;;;;AAOvG;GA3GwB;;QAKP,qIAAA,CAAA,YAAS;;;KALF"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}