html, body {
  height: 100%;
  overflow: hidden;
}

#__next, #root {
  height: 100vh;
  overflow-y: auto;
}

html { box-sizing: border-box; }
*, *::before, *::after { box-sizing: inherit !important; }

html, body, #__next, #root {
  max-width: 100%;
  overflow-x: hidden !important;
}

.page-container {
  padding-left: 0.5rem !important;
  padding-right: 0.5rem !important;
  box-sizing: border-box !important;
  max-width: 100% !important;
}

.page-container .questionnaire-card,
.page-container .questionario-card,
.page-container .editor-form-card,
.page-container .bg-card-background,
.page-container .respostas-view-container,
.page-container .pergunta-editor-item,
.page-container .perguntas-list {
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
  overflow-wrap: break-word !important;
}

/* Mobile specific tweaks */
@media (max-width: 768px) {
  .page-container .questionnaire-card,
  .page-container .questionario-card,
  .page-container .editor-form-card,
  .page-container .bg-card-background {
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
    margin-left: -6px !important; /* fixed unit (was -6) */
    margin-right: 0 !important;
  }

  .form-header .form-header-actions .btn {
    white-space: normal !important;
  }

  .pergunta-editor-item,
  .opcao-editor-item {
    width: 100% !important;
    max-width: 100% !important;
  }
}

html, body, #__next {
  overflow-x: hidden !important;
}

/* -------- Mobile: tabela -> cards (substituir o bloco antigo) -------- */
@media (max-width: 640px) {
  .table-responsive table thead {
    display: none;
  }
  .table-responsive table,
  .table-responsive table tbody {
    display: block;
    width: 100%;
  }
  .table-responsive table tr {
    display: block;
    width: 100%;
    margin: 0 0 12px 0;
    padding: 12px;
    background: var(--card-bg, #ffffff);
    border-radius: 8px;
    box-shadow: 0 1px 2px rgba(2,6,23,0.04);
    border: 1px solid rgba(2,6,23,0.06);
    box-sizing: border-box;
  }
  .table-responsive table td {
    display: block;
    padding: 6px 0;
    border: none;
    width: 100%;
    box-sizing: border-box;
    white-space: normal !important;
    word-break: break-word;
  }
  .table-responsive table td::before {
    content: attr(data-label);
    display: block;
    font-size: 0.82rem;
    font-weight: 600;
    color: var(--text-muted, #6b7280);
    margin-bottom: 6px;
  }
  .table-responsive table td > * {
    display: inline-block;
    width: 100%;
    min-width: 0;
  }
  .table-responsive table td[data-label="Ações"] {
    display: flex;
    justify-content: flex-end;
    gap: 6px;
    align-items: center;
    padding-top: 8px;
  }
  .table-responsive table td[data-label="Ações"] > * {
    display: inline-flex;
  }
  .table-responsive table td[data-label="Questionário"] {
    font-weight: 500;
  }
  .table-responsive .truncate {
    overflow: visible !important;
    text-overflow: clip !important;
    white-space: normal !important;
  }

  .table-responsive .btn {
    white-space: nowrap;
    flex-shrink: 0;
  }
}

@media (min-width: 641px) {
  .table-responsive table { display: table; width: 100%; table-layout: auto; }
  .table-responsive table thead { display: table-header-group; }
  .table-responsive table tr { display: table-row; }
  .table-responsive table td { display: table-cell; }
}

@media (max-width: 768px) {
  .responsive-table thead {
    display: none;
  }
  .responsive-table, .responsive-table tbody, .responsive-table tr {
    display: block;
    width: 100%;
  }
  .responsive-table tr {
    margin-bottom: 1rem;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-md);
    overflow: hidden;
    box-shadow: var(--shadow-sm);
  }

  .responsive-table td {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1rem;
    text-align: right;
    border-bottom: 1px solid var(--border-color);
  }
  .responsive-table tr:last-child td:last-child {
      border-bottom: none;
  }
  .responsive-table td::before {
    content: attr(data-label);
    font-weight: 500;
    text-align: left;
    margin-right: 1rem;
    color: var(--foreground);
  }
  .responsive-table .actions-group {
    justify-content: flex-end;
  }
}

@media (max-width: 640px) {
  .page-container {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  .form-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }
  .form-header-actions {
    width: 100%;
    justify-content: flex-end;
  }
  .pergunta-editor-item .flex {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
  }
}

@media (max-width: 768px) {
  .editor-form-card .form-header-actions {
    flex-direction: row-reverse !important;
    flex-wrap: nowrap !important;
    overflow-x: auto;
    justify-content: flex-start !important;
  }
  .editor-form-card .form-header-actions .btn {
    flex: 0 1 auto;
    white-space: nowrap;
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: 0.75rem;
    margin-left: var(--spacing-xs);
  }
  .editor-form-card .form-header-actions .btn:last-child {
    margin-left: 0;
  }
}


@media (max-width: 768px) {
  .page-container > .mb-6.flex.flex-wrap.justify-center {
    flex-direction: row-reverse !important;  
    justify-content: flex-start !important;  
    flex-wrap: nowrap !important;
    overflow-x: auto;
  }
  .page-container > .mb-6.flex.flex-wrap.justify-center > .btn {
    flex: 0 1 auto;
    white-space: nowrap;
    padding: var(--spacing-xs) var(--spacing-sm);
    font-size: 0.75rem;
    margin-left: var(--spacing-xs);      
    margin-right: 0;                    
  }
  .page-container > .mb-6.flex.flex-wrap.justify-center > .btn:last-child {
    margin-left: 0;                     
  }
}

@media (max-width: 768px) {
  .editor-form-card {
    margin: 0 !important;
    padding: 0 !important;
    border-radius: 0;
    border-left: none;
    border-right: none;
  }

  .display-section {
    padding: var(--spacing-sm) !important; 
  }
}

@media (max-width: 768px) {
  .page-container {
    padding: var(--spacing-sm) !important;
  }
}

@media (max-width: 768px) {
  .table-header-actions {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--spacing-md);
  }

  .table-header-actions .button-group {
    width: 100%; 
  }
}

@media (max-width: 768px) {
    .text-analysis-container {
        grid-template-columns: 1fr;
    }
    .word-cloud-section {
        min-height: 220px;
        padding: var(--spacing-md);
    }
    .word-cloud-section svg {
        max-width: 100%;
        max-height: 180px;
    }
}

@media (max-width: 768px) {
  .page-container {
    margin-left: 0;
  }
}


/* ==== Correções de responsividade mobile específicas ==== */

/* Forçar que títulos que usam .truncate quebrem em telas pequenas */
@media (max-width: 768px) {
  /* se um span ou elemento com .truncate estiver dentro do header do card,
     fazemos override para permitir wrap no mobile */
  .card-header .truncate,
  .card-header .title-container .truncate,
  .card-header .title-container span {
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
    word-break: break-word;
    overflow-wrap: anywhere;
  }

  /* Garante que o título ocupe 100% e não force scroll horizontal */
  .card-header .title-container {
    min-width: 0; /* importante para que o flex allow shrink */
    width: 100%;
  }

  /* Ajustes de grid — garante 1 coluna em telas pequenas */
  .questionarios-grid {
    grid-template-columns: 1fr !important;
    gap: var(--spacing-md);
  }

  /* Permitir que enunciados longos quebrem linhas corretamente */
  .perguntas-list,
  .enunciado-pergunta,
  .perguntas-list p {
    overflow-wrap: break-word;
    word-break: break-word;
  }

  /* Evita que a lista interna gere barra horizontal */
  .perguntas-list {
    padding-right: var(--spacing-sm);
    max-height: 150px; /* já definido, mas assegura comportamento */
  }

  /* Se houver botões com largura fixa que forçam overflow, reduzir */
  .card-header .botao {
    width: 36px;
    flex-shrink: 0;
  }
}

